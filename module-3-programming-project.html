<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>CMPS 162: Module 3 Programming Project</title>
  <style>
    * { font-family: monospace; }
  </style>
  <script>
  //---------//
  // Strings //
  //---------//
  console.log("Strings");

  // 1. Make all countries in the following array follow the same formatting:
  //    The first letter should be upper case, the rest lower case.
  var countries = ["AustraliA", "greece", "PERU", "ChInA"];
  var formattedCountries = countries.map(function(country) {
    return country[0].toUpperCase() + country.slice(1).toLowerCase();
  });
  console.log("Formatted Countries:", formattedCountries);

  // 2. Get every second and third letter from each country and concatenate them.
  //    (Assuming that means take the letters at indices 1 and 2.)
  formattedCountries.forEach(function(country) {
    if (country.length >= 3) {
      var letters = country.slice(1, 3); // extract 2nd and 3rd letters
      console.log("Second and third letters of " + country + ": " + letters);
    } else {
      console.log("Country name too short for extraction: " + country);
    }
  });

  // 3. In the sentence below replace 'dart' with 'arrow' by using the indexOf and slice functions.
  var sentence = "Time flies like an dart; fruit flies like a banana.";
  var indexDart = sentence.indexOf("dart");
  if (indexDart !== -1) {
    var newSentence = sentence.slice(0, indexDart) + "arrow" + sentence.slice(indexDart + "dart".length);
    console.log("Modified Sentence:", newSentence);
  } else {
    console.log("Substring 'dart' not found.");
  }

  // 4. Find the index of the last occurrence of 'flies' in sentence.
  var lastIndexFlies = sentence.lastIndexOf("flies");
  console.log("Last index of 'flies':", lastIndexFlies);

  // 5. Prompt the user for a string, reverse it, and show the result to the user.
  var userString = prompt("Enter a string to reverse:");
  if (userString !== null) {
    var reversedString = userString.split("").reverse().join("");
    alert("Reversed string: " + reversedString);
  }


  //---------//
  // Numbers //
  //---------//
  console.log("Numbers");

  // Use the following variable to answer the next questions.
  var value = 13.3;

  // 1. Round the value using normal math rules.
  var rounded = Math.round(value);
  console.log("Rounded value:", rounded);

  // 2. Round the value up.
  var roundedUp = Math.ceil(value);
  console.log("Rounded Up value:", roundedUp);

  // 3. Round the value down.
  var roundedDown = Math.floor(value);
  console.log("Rounded Down value:", roundedDown);

  // 4. Simulate a coin flip by generating a random number.
  //    Assume the coin is fair and print the result (heads or tails) to the console.
  var coinFlip = Math.random();
  var coinResult = coinFlip < 0.5 ? "heads" : "tails";
  console.log("Coin flip result:", coinResult);


  //-------//
  // Dates //
  //-------//
  console.log("Dates");

  // 1. Prompt the user for their age and proceed to show in what year they were born
  //    (you can assume they already had their birthday in the current year).
  var age = prompt("Enter your age:");
  if (age !== null && !isNaN(age)) {
    var currentYear = new Date().getFullYear();
    var birthYear = currentYear - parseInt(age, 10);
    alert("You were born in: " + birthYear);
  }

  // 2. Make a program that does the following:
  //    (1) Use a prompt to obtain the birth year of the user.
  //    (2) Use a prompt to obtain the birth month of the user.
  //    (3) Use a prompt to obtain the birth day of the user.
  //    (4) Calculate how old the user is in days.
  //    (5) Show the result to the user.
  var birthYearInput = prompt("Enter your birth year:");
  var birthMonthInput = prompt("Enter your birth month (1-12):");
  var birthDayInput = prompt("Enter your birth day (1-31):");

  if (birthYearInput && birthMonthInput && birthDayInput) {
    // Note: JavaScript months are zero-indexed (0 = January, 11 = December)
    var birthDate = new Date(parseInt(birthYearInput, 10), parseInt(birthMonthInput, 10) - 1, parseInt(birthDayInput, 10));
    var today = new Date();
    var diffTime = today - birthDate; // difference in milliseconds
    var diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
    alert("You are approximately " + diffDays + " days old.");
  }
  </script>
</head>
<body>
  See console!
</body>
</html>
